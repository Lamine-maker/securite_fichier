<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chiffrement de fichiers</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="container">
    <header>
        <h2>Application de chiffrement / déchiffrement</h2>
        <p>Sécurisez vos fichiers facilement avec AES ou DES</p>
    </header>

    <!-- Formulaire -->
    <form action="/process" method="POST" enctype="multipart/form-data">
        <label for="file">Fichier :</label>
        <input type="file" name="file" id="file" required>

        <label for="action">Action :</label>
        <select name="action" id="action">
            <option value="encrypt">Chiffrer</option>
            <option value="decrypt">Déchiffrer</option>
        </select>

        <label for="algorithm">Algorithme :</label>
        <select name="algorithm" id="algorithm">
            <option value="AES">AES</option>
            <option value="DES">DES</option>
        </select>

        <label for="mode">Mode :</label>
        <select name="mode" id="mode">
            <option value="ECB">ECB</option>
            <option value="CFB">CFB</option>
        </select>

        <label for="key">Clé secrète :</label>
        <input type="password" name="key" id="key" placeholder="Clé de chiffrement" required>

        <button type="submit" id="encryptBtn">Exécuter</button>
    </form>

    <!-- Progression -->
    <div id="progressContainer">
        <div id="progressBar"><span></span></div>
        <div id="status">Prêt à chiffrer / déchiffrer</div>
    </div>

    <!-- Téléchargement -->
    <div id="downloadSection">
        <a id="downloadLink" href="#" class="hidden">Télécharger le fichier</a>
    </div>

    <!-- Historique -->
    <div id="historySection">
        <h3>Historique</h3>
        <ul id="historyList"></ul>
    </div>
</div>

<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
